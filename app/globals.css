@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   NEW HAVEN NAVIGATOR - 2026 DESIGN SYSTEM
   Premium, Bold, Alive
   ============================================ */

@layer base {
  :root {
    /* Vibrant Color System */
    --color-primary: 168 84% 40%;      /* Electric teal */
    --color-primary-light: 168 84% 50%;
    --color-primary-dark: 168 84% 32%;
    --color-accent: 24 100% 55%;       /* Vibrant orange */
    --color-accent-light: 24 100% 65%;
    --color-secondary: 258 90% 66%;    /* Electric purple */

    /* Sophisticated neutrals */
    --color-bg: 220 20% 97%;
    --color-surface: 0 0% 100%;
    --color-surface-elevated: 220 20% 99%;
    --color-text: 220 25% 12%;
    --color-text-secondary: 220 15% 45%;
    --color-text-muted: 220 10% 60%;
    --color-border: 220 15% 90%;
    --color-border-light: 220 15% 94%;

    /* Gradient palette */
    --gradient-hero: linear-gradient(135deg, hsl(168 84% 40%) 0%, hsl(195 90% 45%) 50%, hsl(258 90% 66%) 100%);
    --gradient-warm: linear-gradient(135deg, hsl(24 100% 55%) 0%, hsl(340 90% 55%) 100%);
    --gradient-cool: linear-gradient(135deg, hsl(195 90% 50%) 0%, hsl(258 90% 60%) 100%);
    --gradient-success: linear-gradient(135deg, hsl(160 80% 45%) 0%, hsl(145 80% 40%) 100%);
    --gradient-surface: linear-gradient(180deg, hsl(220 20% 99%) 0%, hsl(220 20% 96%) 100%);

    /* Glass effects */
    --glass-bg: rgba(255, 255, 255, 0.7);
    --glass-border: rgba(255, 255, 255, 0.3);
    --glass-shadow: 0 8px 32px rgba(0, 0, 0, 0.08);

    /* Shadows with color */
    --shadow-sm: 0 2px 8px -2px rgba(0, 0, 0, 0.08);
    --shadow-md: 0 8px 24px -8px rgba(0, 0, 0, 0.12);
    --shadow-lg: 0 16px 48px -12px rgba(0, 0, 0, 0.18);
    --shadow-xl: 0 24px 64px -16px rgba(0, 0, 0, 0.22);
    --shadow-glow-primary: 0 8px 32px -8px hsla(168 84% 40% / 0.4);
    --shadow-glow-accent: 0 8px 32px -8px hsla(24 100% 55% / 0.4);
    --shadow-glow-success: 0 8px 32px -8px hsla(160 80% 45% / 0.4);
  }

  html {
    -webkit-tap-highlight-color: transparent;
    scroll-behavior: smooth;
  }

  body {
    @apply antialiased;
    background: var(--gradient-surface);
    background-attachment: fixed;
    color: hsl(var(--color-text));
    font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
    min-height: 100vh;
  }

  /* Premium Typography */
  h1, h2, h3, h4 {
    @apply font-bold;
    letter-spacing: -0.03em;
    background: linear-gradient(135deg, hsl(var(--color-text)) 0%, hsl(220 25% 25%) 100%);
    -webkit-background-clip: text;
    background-clip: text;
  }

  h1 {
    @apply text-3xl leading-tight;
  }

  h2 {
    @apply text-xl;
  }

  p {
    @apply leading-relaxed;
  }

  /* Selection styling */
  ::selection {
    background: hsla(var(--color-primary) / 0.2);
  }
}

@layer components {
  /* ============================================
     BUTTONS - Bold & Satisfying
     ============================================ */

  .btn-primary {
    @apply relative font-semibold px-7 py-4 rounded-2xl
           transition-all duration-300 ease-out
           disabled:opacity-40 disabled:cursor-not-allowed
           overflow-hidden;
    background: var(--gradient-warm);
    color: white;
    box-shadow: var(--shadow-glow-accent);
  }

  .btn-primary::before {
    content: '';
    @apply absolute inset-0 opacity-0 transition-opacity duration-300;
    background: linear-gradient(135deg, rgba(255,255,255,0.2) 0%, transparent 50%);
  }

  .btn-primary:hover:not(:disabled) {
    transform: translateY(-3px) scale(1.02);
    box-shadow: 0 12px 40px -8px hsla(24 100% 55% / 0.5);
  }

  .btn-primary:hover::before {
    @apply opacity-100;
  }

  .btn-primary:active:not(:disabled) {
    transform: translateY(-1px) scale(0.98);
  }

  /* Secondary - Glassmorphism */
  .btn-secondary {
    @apply font-semibold px-7 py-4 rounded-2xl
           border transition-all duration-300 ease-out;
    background: var(--glass-bg);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border-color: var(--glass-border);
    color: hsl(var(--color-text));
    box-shadow: var(--shadow-sm);
  }

  .btn-secondary:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
    border-color: hsla(var(--color-primary) / 0.3);
    background: rgba(255, 255, 255, 0.9);
  }

  .btn-secondary:active {
    transform: translateY(0) scale(0.98);
  }

  /* ============================================
     CARDS - Elevated & Dynamic
     ============================================ */

  .card {
    @apply relative rounded-3xl p-6 transition-all duration-400 ease-out overflow-hidden;
    background: hsl(var(--color-surface));
    border: 1px solid hsl(var(--color-border-light));
    box-shadow: var(--shadow-sm);
  }

  .card::before {
    content: '';
    @apply absolute inset-0 opacity-0 transition-opacity duration-400;
    background: linear-gradient(135deg, hsla(var(--color-primary) / 0.03) 0%, transparent 50%);
  }

  .card:hover {
    transform: translateY(-6px) scale(1.01);
    box-shadow: var(--shadow-lg);
    border-color: hsla(var(--color-primary) / 0.2);
  }

  .card:hover::before {
    @apply opacity-100;
  }

  .card:active {
    transform: translateY(-2px) scale(0.99);
  }

  .card-flat {
    @apply rounded-3xl p-6;
    background: hsl(var(--color-surface));
    border: 1px solid hsl(var(--color-border-light));
    box-shadow: var(--shadow-sm);
  }

  /* Glass Card */
  .card-glass {
    @apply rounded-3xl p-6;
    background: var(--glass-bg);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border);
    box-shadow: var(--glass-shadow);
  }

  /* ============================================
     INPUTS - Modern & Responsive
     ============================================ */

  .input {
    @apply w-full px-5 py-4 rounded-2xl
           outline-none transition-all duration-300;
    background: hsl(var(--color-surface));
    border: 2px solid hsl(var(--color-border));
    color: hsl(var(--color-text));
    box-shadow: var(--shadow-sm);
  }

  .input:focus {
    border-color: hsl(var(--color-primary));
    box-shadow: 0 0 0 4px hsla(var(--color-primary) / 0.15), var(--shadow-md);
    transform: translateY(-1px);
  }

  .input::placeholder {
    color: hsl(var(--color-text-muted));
  }

  /* ============================================
     SELECTION BUTTONS - Satisfying Feedback
     ============================================ */

  .selection-btn {
    @apply relative w-full p-5 rounded-2xl text-left
           transition-all duration-300 overflow-hidden;
    background: hsl(var(--color-surface));
    border: 2px solid hsl(var(--color-border));
    box-shadow: var(--shadow-sm);
  }

  .selection-btn::after {
    content: '';
    @apply absolute top-4 right-4 w-6 h-6 rounded-full
           border-2 transition-all duration-300;
    border-color: hsl(var(--color-border));
  }

  .selection-btn:hover {
    border-color: hsla(var(--color-primary) / 0.4);
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
  }

  .selection-btn.selected {
    border-color: hsl(var(--color-primary));
    background: linear-gradient(135deg, hsla(var(--color-primary) / 0.08) 0%, hsla(var(--color-primary) / 0.03) 100%);
    box-shadow: var(--shadow-glow-primary);
  }

  .selection-btn.selected::after {
    background: var(--gradient-hero);
    border-color: transparent;
    box-shadow: 0 0 12px hsla(var(--color-primary) / 0.5);
  }

  /* ============================================
     CATEGORY PILLS - Playful & Interactive
     ============================================ */

  .category-pill {
    @apply inline-flex items-center gap-2 px-4 py-2.5 rounded-full
           text-sm font-semibold transition-all duration-300;
    background: hsl(var(--color-surface));
    color: hsl(var(--color-text-secondary));
    border: 1px solid hsl(var(--color-border));
    box-shadow: var(--shadow-sm);
  }

  .category-pill:hover {
    transform: translateY(-2px) scale(1.03);
    box-shadow: var(--shadow-md);
    border-color: hsla(var(--color-primary) / 0.3);
    color: hsl(var(--color-text));
  }

  .category-pill.active {
    background: var(--gradient-hero);
    color: white;
    border-color: transparent;
    box-shadow: var(--shadow-glow-primary);
  }

  .category-pill.active:hover {
    transform: translateY(-2px) scale(1.05);
    box-shadow: 0 8px 24px -4px hsla(var(--color-primary) / 0.5);
  }

  /* ============================================
     HERO CARD - Showstopper
     ============================================ */

  .hero-card {
    @apply relative rounded-[2rem] p-8 text-center overflow-hidden;
    background: var(--gradient-hero);
    color: white;
    box-shadow: var(--shadow-glow-primary);
  }

  .hero-card::before {
    content: '';
    @apply absolute inset-0;
    background:
      radial-gradient(ellipse 80% 50% at 20% 20%, rgba(255,255,255,0.15) 0%, transparent 50%),
      radial-gradient(ellipse 60% 40% at 80% 80%, rgba(255,255,255,0.1) 0%, transparent 50%);
  }

  .hero-card::after {
    content: '';
    @apply absolute inset-0 opacity-0 transition-opacity duration-500;
    background: radial-gradient(circle at var(--mouse-x, 50%) var(--mouse-y, 50%), rgba(255,255,255,0.2) 0%, transparent 50%);
  }

  .hero-card:hover::after {
    @apply opacity-100;
  }

  .hero-card:hover {
    transform: translateY(-8px) scale(1.02);
    box-shadow: 0 32px 64px -16px hsla(var(--color-primary) / 0.5);
  }

  .hero-card * {
    position: relative;
    z-index: 1;
  }

  /* ============================================
     INFO CARDS - Status Clarity
     ============================================ */

  .info-card {
    @apply relative rounded-2xl p-5 overflow-hidden;
  }

  .info-card::before {
    content: '';
    @apply absolute top-0 left-0 w-1 h-full;
  }

  .info-card.success {
    background: linear-gradient(135deg, hsla(160 80% 45% / 0.1) 0%, hsla(145 80% 40% / 0.05) 100%);
    border: 1px solid hsla(160 80% 45% / 0.2);
  }

  .info-card.success::before {
    background: var(--gradient-success);
  }

  .info-card.success h2, .info-card.success p {
    color: hsl(160 70% 25%);
  }

  .info-card.info {
    background: linear-gradient(135deg, hsla(210 90% 55% / 0.1) 0%, hsla(258 90% 66% / 0.05) 100%);
    border: 1px solid hsla(210 90% 55% / 0.2);
  }

  .info-card.info::before {
    background: var(--gradient-cool);
  }

  .info-card.info h2, .info-card.info p {
    color: hsl(210 70% 30%);
  }

  /* ============================================
     PROGRESS BAR - Animated
     ============================================ */

  .progress-bar {
    @apply h-2 rounded-full overflow-hidden;
    background: hsl(var(--color-border));
  }

  .progress-bar-fill {
    @apply h-full rounded-full transition-all duration-700 ease-out;
    background: var(--gradient-hero);
    box-shadow: 0 0 20px hsla(var(--color-primary) / 0.5);
  }

  /* ============================================
     LANGUAGE TOGGLE - Refined
     ============================================ */

  .lang-toggle {
    @apply inline-flex items-center p-1.5 rounded-2xl;
    background: hsl(var(--color-surface));
    border: 1px solid hsl(var(--color-border));
    box-shadow: var(--shadow-sm);
  }

  .lang-toggle button {
    @apply px-4 py-2 rounded-xl text-sm font-semibold transition-all duration-300;
    color: hsl(var(--color-text-muted));
  }

  .lang-toggle button.active {
    background: var(--gradient-hero);
    color: white;
    box-shadow: var(--shadow-glow-primary);
  }

  .lang-toggle button:not(.active):hover {
    color: hsl(var(--color-text));
    background: hsl(var(--color-border-light));
  }

  /* ============================================
     CTA SECTION - Premium Feel
     ============================================ */

  .cta-card {
    @apply relative rounded-3xl p-8 text-center overflow-hidden;
    background: linear-gradient(180deg, hsl(var(--color-surface)) 0%, hsl(220 20% 96%) 100%);
    border: 1px solid hsl(var(--color-border-light));
    box-shadow: var(--shadow-md);
  }

  .cta-card::before {
    content: '';
    @apply absolute top-0 left-0 right-0 h-px;
    background: linear-gradient(90deg, transparent 0%, hsla(var(--color-primary) / 0.3) 50%, transparent 100%);
  }

  /* Phone Button - Premium Green */
  .btn-phone {
    @apply relative inline-flex items-center justify-center gap-3 font-bold
           px-8 py-5 rounded-2xl text-lg
           transition-all duration-300 ease-out overflow-hidden;
    background: var(--gradient-success);
    color: white;
    box-shadow: var(--shadow-glow-success);
  }

  .btn-phone::before {
    content: '';
    @apply absolute inset-0 opacity-0 transition-opacity duration-300;
    background: linear-gradient(135deg, rgba(255,255,255,0.2) 0%, transparent 50%);
  }

  .btn-phone:hover {
    transform: translateY(-4px) scale(1.02);
    box-shadow: 0 16px 48px -8px hsla(160 80% 45% / 0.5);
  }

  .btn-phone:hover::before {
    @apply opacity-100;
  }

  .btn-phone:active {
    transform: translateY(-2px) scale(0.98);
  }

  /* Outline Large Button */
  .btn-outline-lg {
    @apply relative inline-flex items-center justify-center gap-2 font-bold
           px-7 py-4 rounded-2xl text-base
           border-2 transition-all duration-300 ease-out overflow-hidden;
    background: hsl(var(--color-surface));
    border-color: hsl(var(--color-primary));
    color: hsl(var(--color-primary));
    box-shadow: var(--shadow-sm);
  }

  .btn-outline-lg::before {
    content: '';
    @apply absolute inset-0 opacity-0 transition-all duration-300;
    background: var(--gradient-hero);
  }

  .btn-outline-lg:hover {
    transform: translateY(-3px);
    color: white;
    border-color: transparent;
    box-shadow: var(--shadow-glow-primary);
  }

  .btn-outline-lg:hover::before {
    @apply opacity-100;
  }

  .btn-outline-lg:hover svg,
  .btn-outline-lg:hover span {
    position: relative;
    z-index: 1;
  }

  .btn-outline-lg:active {
    transform: translateY(-1px) scale(0.98);
  }

  /* ============================================
     STATUS BADGES - Vibrant
     ============================================ */

  .status-badge {
    @apply inline-flex items-center px-3 py-1.5 rounded-full text-xs font-bold uppercase tracking-wide;
  }

  .status-badge.reached_out {
    background: linear-gradient(135deg, hsla(210 90% 55% / 0.15) 0%, hsla(210 90% 55% / 0.1) 100%);
    color: hsl(210 80% 45%);
    border: 1px solid hsla(210 90% 55% / 0.3);
  }

  .status-badge.waiting {
    background: linear-gradient(135deg, hsla(45 100% 50% / 0.15) 0%, hsla(45 100% 50% / 0.1) 100%);
    color: hsl(35 80% 40%);
    border: 1px solid hsla(45 100% 50% / 0.3);
  }

  .status-badge.approved {
    background: linear-gradient(135deg, hsla(160 80% 45% / 0.15) 0%, hsla(160 80% 45% / 0.1) 100%);
    color: hsl(160 70% 35%);
    border: 1px solid hsla(160 80% 45% / 0.3);
  }

  .status-badge.denied {
    background: linear-gradient(135deg, hsla(0 80% 55% / 0.15) 0%, hsla(0 80% 55% / 0.1) 100%);
    color: hsl(0 70% 45%);
    border: 1px solid hsla(0 80% 55% / 0.3);
  }

  /* ============================================
     MODAL - Premium Overlay
     ============================================ */

  .modal-backdrop {
    @apply fixed inset-0 z-50;
    background: rgba(0, 0, 0, 0.4);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
  }

  .modal-content {
    @apply relative w-full bg-white overflow-hidden;
    border-radius: 2rem 2rem 0 0;
    box-shadow: 0 -8px 40px rgba(0, 0, 0, 0.15);
  }

  @media (min-width: 640px) {
    .modal-content {
      border-radius: 2rem;
      max-width: 28rem;
      box-shadow: var(--shadow-xl);
    }
  }

  /* Modal Handle */
  .modal-handle {
    @apply w-12 h-1.5 rounded-full mx-auto mt-3 mb-2;
    background: hsl(var(--color-border));
  }
}

/* ============================================
   ANIMATIONS - Smooth & Delightful
   ============================================ */

@layer utilities {
  /* Fade In */
  .fade-in {
    animation: fadeIn 0.4s cubic-bezier(0.16, 1, 0.3, 1);
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(12px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Slide Up */
  .slide-up {
    animation: slideUp 0.5s cubic-bezier(0.16, 1, 0.3, 1);
  }

  @keyframes slideUp {
    from {
      opacity: 0;
      transform: translateY(24px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Scale In */
  .scale-in {
    animation: scaleIn 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  @keyframes scaleIn {
    from {
      opacity: 0;
      transform: scale(0.9);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  /* Pulse Glow */
  .pulse-glow {
    animation: pulseGlow 2s ease-in-out infinite;
  }

  @keyframes pulseGlow {
    0%, 100% {
      box-shadow: var(--shadow-glow-primary);
    }
    50% {
      box-shadow: 0 8px 40px -4px hsla(var(--color-primary) / 0.6);
    }
  }

  /* Shimmer Loading */
  .shimmer {
    @apply relative overflow-hidden;
  }

  .shimmer::after {
    content: '';
    @apply absolute inset-0;
    background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.4) 50%, transparent 100%);
    animation: shimmer 1.5s infinite;
  }

  @keyframes shimmer {
    from {
      transform: translateX(-100%);
    }
    to {
      transform: translateX(100%);
    }
  }

  /* Float Animation */
  .float {
    animation: float 3s ease-in-out infinite;
  }

  @keyframes float {
    0%, 100% {
      transform: translateY(0);
    }
    50% {
      transform: translateY(-8px);
    }
  }

  /* Stagger Children */
  .stagger-children > * {
    animation: fadeIn 0.4s cubic-bezier(0.16, 1, 0.3, 1) both;
  }

  .stagger-children > *:nth-child(1) { animation-delay: 0ms; }
  .stagger-children > *:nth-child(2) { animation-delay: 50ms; }
  .stagger-children > *:nth-child(3) { animation-delay: 100ms; }
  .stagger-children > *:nth-child(4) { animation-delay: 150ms; }
  .stagger-children > *:nth-child(5) { animation-delay: 200ms; }
  .stagger-children > *:nth-child(6) { animation-delay: 250ms; }
  .stagger-children > *:nth-child(7) { animation-delay: 300ms; }
  .stagger-children > *:nth-child(8) { animation-delay: 350ms; }
  .stagger-children > *:nth-child(9) { animation-delay: 400ms; }
  .stagger-children > *:nth-child(10) { animation-delay: 450ms; }
  .stagger-children > *:nth-child(11) { animation-delay: 500ms; }
  .stagger-children > *:nth-child(12) { animation-delay: 550ms; }

  /* Scrollbar Hide */
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }

  /* Transition Utilities */
  .duration-400 {
    transition-duration: 400ms;
  }

  /* Gradient Text */
  .text-gradient {
    background: var(--gradient-hero);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }

  .text-gradient-warm {
    background: var(--gradient-warm);
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
  }

  /* Glass Effect */
  .glass {
    background: var(--glass-bg);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid var(--glass-border);
  }

  /* Safe Area Padding */
  .pb-safe {
    padding-bottom: env(safe-area-inset-bottom, 1rem);
  }
}

/* ============================================
   RESPONSIVE ADJUSTMENTS
   ============================================ */

@media (max-width: 380px) {
  .hero-card {
    @apply p-6;
  }

  .btn-phone,
  .btn-outline-lg {
    @apply px-5 py-4 text-base;
  }
}

/* ============================================
   REDUCED MOTION
   ============================================ */

@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
